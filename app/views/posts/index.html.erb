<% content_for :title, "Posts" %>

<h1>Posts
  <% if params[:topic_id] %>
    on: <%= @topics.find(params[:topic_id]).name %> <br>
  <% end %>
  <% if params[:search] %>
    containing: "<%= params[:search] %>"
  <% end %>
</h1>

localhost/posts?order=pinned

<div class="btn-group">
  <%= link_to "Pinned", posts_path(request.query_parameters.merge(order: 'pinned')), class: "btn btn-outline-primary #{'active' if params[:order] == 'pinned'}" %>
  <%= link_to "New", posts_path(request.query_parameters.merge(order: 'new')), class: "btn btn-outline-primary #{'active' if params[:order] == 'new' || !params[:order]}" %>
  <%= link_to "Old", posts_path(request.query_parameters.merge(order: 'old')), class: "btn btn-outline-primary #{'active' if params[:order] == 'old'}" %>
</div>

<div id="posts">
  <% @posts.each do |post| %>
    <%= render post %>
    <p>
      <%= link_to "Show this post", post %>
    </p>
  <% end %>
</div>